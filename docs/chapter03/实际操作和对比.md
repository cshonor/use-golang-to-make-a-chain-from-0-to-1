# 实际操作和对比

> 第三章子文档：实际操作流程和与其他公链的对比

---

## 3.8 与其他公链的对比

### 3.8.1 守护进程名称对比

| 公链项目 | 核心进程名 | 作用 |
|---------|-----------|------|
| **比原链（Bytom）** | `bytomd` | 节点初始化、网络同步、挖矿等 |
| **比特币（Bitcoin）** | `bitcoind` | 比特币核心节点，全节点服务 |
| **以太坊（Ethereum）** | `geth` / `erigon` | 以太坊全节点，执行共识、同步、合约执行 |
| **Solana** | `solana-validator` | 验证节点，负责出块和网络同步 |
| **Cosmos** | `gaiad` | Cosmos Hub 节点，负责跨链和共识 |
| **Polkadot** | `polkadot` | 中继链节点，负责平行链和共享安全 |

### 3.8.2 共同特点

**所有主流公链都有：**
- ✅ 一个长期运行的后台核心进程
- ✅ 节点初始化流程
- ✅ P2P 网络连接机制
- ✅ 持续运行和信号处理
- ✅ 数据持久化存储

**命名规律：**
- 很多项目使用 `xxx-d`（daemon）命名
- 有些使用 `validator` 或直接用项目名

---

## 3.9 实际操作流程

### 3.9.1 下载和编译

**步骤 1：下载源码**
```bash
git clone https://github.com/Bytom/bytom.git
cd bytom
git checkout v1.0.5
```

**步骤 2：安装依赖**
```bash
go mod download
go mod tidy
```

**步骤 3：编译**
```bash
# 编译 bytomd
go build -o cmd/bytomd/bytomd.exe cmd/bytomd/main.go

# 编译 bytomcli
go build -o cmd/bytomcli/bytomcli.exe cmd/bytomcli/main.go
```

### 3.9.2 初始化节点

**步骤 1：初始化配置**
```bash
bytomd init --chain_id solonet
```

**生成的文件：**
- `config.toml` - 配置文件
- `node_key.json` - 节点私钥
- `data/` - 数据目录

**步骤 2：启动节点**
```bash
bytomd node
```

**步骤 3：验证节点运行**
```bash
# 使用 bytomcli 查询节点信息
bytomcli net-info
bytomcli get-block-count
```

### 3.9.3 常用操作

**查看节点状态：**
```bash
# 查看网络信息
bytomcli net-info

# 查看区块高度
bytomcli get-block-count

# 查看最新区块
bytomcli get-block-hash
```

**停止节点：**
```bash
# 发送 SIGTERM 信号
kill <pid>

# 或使用 Ctrl+C（如果在终端运行）
```

---

## 3.10 学习要点总结

### 3.10.1 核心概念

1. **守护进程的本质**
   - 长期运行的后台进程
   - 节点的核心程序
   - 负责节点的所有核心功能

2. **Node 对象的作用**
   - 节点的"数字化身"
   - 包含所有核心模块的引用
   - 通过 Node 对象协调各模块工作

3. **初始化流程**
   - 环境准备 → 命令解析 → 创建 Node → 初始化组件 → 启动 → 持续运行

### 3.10.2 关键技术点

1. **命令行参数解析**
   - 使用 Cobra 框架
   - 支持多种配置方式（命令行、配置文件、环境变量）

2. **P2P 网络连接**
   - 通过种子节点启动连接
   - 逐步扩展连接网络

3. **持续运行机制**
   - RunForever() 保证节点持续运行
   - 信号处理实现优雅关闭

### 3.10.3 与其他系统的区别

**区块链节点 vs 后端服务：**
- 节点是分布式网络中的独立实体
- 后端服务是应用架构中的中间层
- 节点维护完整账本，后端服务通常无状态

---

**返回**: [bytomd 守护进程详解](./bytomd守护进程详解.md)

